<!DOCTYPE html>
<html th:replace="~{layout/layoutFile :: layout(~{::title},~{::link},~{::main},~{::script})}" xmlns:th="http://www.thymeleaf.org" >
<head>
    <title>GoalGoals-SDGs</title>
    <link/>
</head>
<body class="d-flex flex-column min-vh-100">
<main class="flex-shrink-0">
    <!-- Navigation-->
    <nav th:replace="layout/layoutNav :: nav_layout" class="navbar navbar-expand-lg navbar-dark bg-dark"></nav>
    <div class="container-fluid">
        <div class="row flex-nowrap" >
            <div th:replace="layout/layoutSidebarMyPage :: sidebar_layout" class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark"></div>
            <div class="col-md-3 border-right" >
                <div class="d-flex flex-column align-items-center text-center p-3 py-5"><img class="rounded-circle mt-5" width="150px" src="https://www.sdgbookclub.com/common/img/default_profile.png">
                    <span class="font-weight-bold">[[${#authentication.name}]]</span>
                </div>
            </div>
            <div class="col-md-5 border-right">
                <div class="p-3 py-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="text-right">비밀번호 변경</h4>
                    </div>
                    <form action="infoModify.html" th:action="@{/users/info/myPwModify}" th:object="${myPwDTO}" method="post">

                        <div class="row mt-3">
                            <div class="col-md-12">
                                <label for="password">현재 비밀번호</label>
                                <input type="password" id="password" th:field="*{password}" th:errorclass="error-field" class="form-control" placeholder="현재 비밀번호">
                                <div class="error-field" th:errors="*{password}">
                                    비밀번호 오류
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <label for="newPassword">새 비밀번호</label>
                                <input type="password" id="newPassword" th:field="*{newPassword}" th:errorclass="error-field" class="form-control" placeholder="새 비밀번호">
                                <div class="error-field" th:errors="*{newPassword}">
                                    새 비밀번호 오류
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="passwordCheck">새 비밀번호 확인</label>
                                    <input type="password" id="passwordCheck" th:field="*{passwordCheck}" th:errorclass="error-field"  class="form-control" placeholder="새 비밀번호 확인">
                                    <div class="error-field" th:errors="*{passwordCheck}">
                                        비밀번호 확인 오류
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-5 text-center">
                            <button class="btn btn-primary profile-button" id="btn2" type="submit">비밀번호 저장</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<!--Custom Js-->
<script th:inline="javascript">
    let msg = [[${msg}]];
    console.log(msg);

    if (msg) {
        alert([[${msg}]]+"님의 패스워드가 변경되었습니다.")
    }
</script>
</body>
</html>

