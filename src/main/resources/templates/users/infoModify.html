<!DOCTYPE html>
<html th:replace="~{layout/layoutFile :: layout(~{::title},~{::link},~{::main},~{::script})}" xmlns:th="http://www.thymeleaf.org" >
<head>
    <title>GoalGoals-SDGs</title>
    <link/>
</head>
<body class="d-flex flex-column min-vh-100">
<main class="flex-shrink-0">
    <!-- Navigation-->
    <nav th:replace="layout/layoutNav :: nav_layout" class="navbar navbar-expand-lg navbar-dark bg-dark"></nav>
    <div class="container-fluid">
        <div class="row flex-nowrap" >
            <div th:replace="layout/layoutSidebarMyPage :: sidebar_layout" class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark"></div>
            <div class="col-md-3 border-right" >
                <div class="d-flex flex-column align-items-center text-center p-3 py-5"><img class="rounded-circle mt-5" width="150px" src="https://www.sdgbookclub.com/common/img/default_profile.png">
                    <span class="font-weight-bold">[[${#authentication.name}]]</span>
                    <a th:href="@{/users/info/myPwModify}" class="btn btn-primary profile-button mt-3">비밀번호 변경</a>
                </div>
            </div>
            <div class="col-md-5 border-right">
                <div class="p-3 py-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="text-right">프로필</h4>
                    </div>
                    <form action="infoModify.html" th:action="@{/users/info/modify}" th:object="${myPageDTO}" method="post">

                        <div class="row mt-3">
                            <div class="col-md-12">
                                <label for="name">사용자 이름</label>
                                <input type="text" id="name" th:field="*{name}" th:errorclass="error-field" class="form-control" placeholder="이름" >
                                <div class="error-field" th:errors="*{name}">
                                    이름 오류
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <label for="id">아이디</label>
                                <input type="text" id="id" th:field="*{id}" th:errorclass="error-field" class="form-control"  placeholder="아이디"  readonly />
                                <div class="error-field" th:errors="*{id}">
                                    아이디 오류
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="email">이메일</label>
                                    <input type="email" id="email" th:field="*{email}" th:errorclass="error-field" class="form-control"  placeholder="이메일" />
                                    <div class="error-field" th:errors="*{email}">
                                        이메일 오류
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-5 text-center">
                            <button class="btn btn-primary profile-button" id="btn2" type="submit">프로필 저장</button>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</main>

<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--Custom Js-->
<script th:inline="javascript">





    // const emailCheckInput = document.querySelector('#emailCheck');
    // emailCheckInput.addEventListener('input', validateEmailCheck);
    // let key = "";
    // $("#sendMail").click(function() {// 메일 입력 유효성 검사
    //
    //     $.ajax({
    //         type : "Post",
    //         url : "/users/checkMeMail",
    //         data : {
    //             email:$('#modalEmail').val()
    //         },
    //         success:function(result){
    //             console.log(result);
    //             alert("인증번호가 발송되었습니다.");
    //             key = result;
    //         },
    //         error:function(){
    //             console.log()
    //             alert("인증번호 발송이 실패하였습니다.")
    //
    //         }
    //     })
    // });
    //
    // function validateEmailCheck() {
    //     const emailCheck = this.value;
    //
    //     if (emailCheck === key) {
    //         // 이메일 인증 성공
    //         document.querySelector('#emailCheckValidation').textContent = '인증 성공';
    //         // #pwModal2 모달 엘리먼트에 data-bs-target, data-bs-toggle 속성 추가
    //             $("#donationSave1").on("click", function () {
    //                 // #pwModal2에 data-bs-target 및 data-bs-toggle 속성 추가하고 모달을 표시
    //                 $('#pwModal2').attr('data-bs-target', '#pwModal2').attr('data-bs-toggle', 'modal').modal("show");
    //             });
    //         }
    //     } else {
    //         // 이메일 인증 실패
    //         document.querySelector('#emailCheckValidation').textContent = '인증 실패';
    //         $("#submitButton").prop("disabled", true);
    //     }
    // }
    //
    // // // 첫 번째 모달에서 확인 버튼이 눌렸을 때
    // // $("#pwModal .donationSave1").click(function() {
    // //     // 두 번째 모달을 띄우기
    // //     $("#pwModal2").modal("show");
    // //     // 첫 번째 모달 닫기
    // //     $("#pwModal").modal("hide");
    // // });
    // //
    // // // 두 번째 모달에서 확인 버튼이 눌렸을 때
    // // $("#pwModal2 .donationSave2").click(function() {
    // //     // 여기에 두 번째 모달에서의 로직을 추가하십시오.
    // //     // 예를 들어, 서버에 데이터 전송 등을 수행할 수 있습니다.
    // //     // ...
    // //
    // //     // 두 번째 모달 닫기
    // //     $("#pwModal2").modal("hide");
    // // });
</script>
</body>
</html>

